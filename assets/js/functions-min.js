$(document).ready(function(){function t(){var t=Math.floor(4*Math.random())+1;pattern.push(t),n()}function n(){gameOn=!1;var t=0,n=setInterval(function(){e(pattern[t]),++t===pattern.length&&clearInterval(n)},1200);gameOn=!0}function e(t){sounds[t].play(),$("#"+t).addClass("filter"),setTimeout(function(){$("#"+t).removeClass("filter")},1e3)}function a(){setTimeout(function(){$(".buttons").removeClass("filter"),current===pattern.length-1?(level++,level<21?(o(level),current=0,setTimeout(function(){t()},1500)):(o("WIN"),setTimeout(function(){c()},1e3))):current++},500)}function s(){$(".count-value").text("!!").addClass("flash"),setTimeout(function(){$(".count-value").removeClass("flash"),strictBtn?c():(o(level),current=0,n())},1500)}function o(t){t<10&&(t="0"+t),$(".count-value").text(t)}function c(){o(0),current=0,level=1,pattern=[],$(".start-btn").css("background","#4FB0C6"),startBtn=!startBtn}var r=-1===navigator.userAgent.indexOf("Safari");h=$(window).height(),startBtn=!1,strictBtn=!1,gameOn=!1,pattern=[],current=0,level=1,sounds={1:new Audio("https://s3.amazonaws.com/freecodecamp/simonSound1.mp3"),2:new Audio("https://s3.amazonaws.com/freecodecamp/simonSound2.mp3"),3:new Audio("https://s3.amazonaws.com/freecodecamp/simonSound3.mp3"),4:new Audio("https://s3.amazonaws.com/freecodecamp/simonSound4.mp3")},$("body").css("height",h+"px"),$(".buttons").each(function(){$(this).click(function(){var t=$(this).attr("id");gameOn&&(t==pattern[current]?(e(t),a()):s())})}),$(".onoff-btn").click(function(){var t=$(this);$(".count-value").toggleClass("handle"),gameOn?(t.css("left","20px"),c()):t.css("left","2px"),gameOn=!gameOn}),$(".start-btn").click(function(){gameOn&&(startBtn?c():$(this).css("background","#9eedff"),$(".count-value").text("01"),t(),startBtn=!startBtn),gameOn&&startBtn}),$(".strict-btn").click(function(){gameOn&&(strictBtn?$(this).css("background","#6C49B8"):$(this).css("background","#c9b3f9")),strictBtn=!strictBtn})});